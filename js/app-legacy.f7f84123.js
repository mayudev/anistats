(function(){"use strict";var e={7854:function(e,t,a){a(6992),a(8674),a(9601),a(7727);var n=a(9963),i=a(6252);function s(e,t,a,n,s,r){var o=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(o)}a(9653),a(9600),a(1249),a(8309),a(2222),a(4916),a(5306),a(1539),a(4747),a(3123),a(9826);var r=a(2262),o=a(8534),c=(a(5666),a(8862),"query ($userId: Int, $page: Int, $perPage: Int, $type: ActivityType, $from: Int, $to: Int) {\n    Page(page: $page, perPage: $perPage) {\n      pageInfo {\n        total\n        currentPage\n        lastPage\n        hasNextPage\n        perPage\n      }\n      activities(userId: $userId, sort: ID_DESC, type: $type, createdAt_greater: $from, createdAt_lesser: $to) {\n        __typename\n        ... on ListActivity {\n          id\n          media {\n            id\n            type\n            title {\n              romaji\n            }\n            coverImage {\n              medium\n            }\n          }\n          type\n          createdAt\n          status\n          progress\n        }\n      }\n    }\n  }"),u="query ($userId: Int, $type: MediaType, $chunk: Int) {\n    MediaListCollection (userId: $userId, type: $type, chunk: $chunk) {\n        lists {\n            name\n            isCustomList\n            entries {\n              id\n              status\n              progress\n              createdAt\n              startedAt {\n                year\n                month\n                day\n              }\n              completedAt {\n                year\n                month\n                day\n              }\n              media {\n                id\n                type\n                bannerImage\n                coverImage {\n                  medium\n                }\n                averageScore\n                seasonYear\n                title {\n                  romaji\n                }\n                format\n                episodes\n                chapters\n              }\n            }\n          }\n        }\n      }",d="query ($userId: Int, $mediaId: Int, $page: Int, $perPage: Int) {\n    Media(id: $mediaId) {\n      id\n      title {\n        romaji\n      }\n      coverImage {\n        large\n      }\n      bannerImage\n      episodes\n    }\n    Page(page: $page, perPage: $perPage) {\n      pageInfo {\n        total\n        currentPage\n        lastPage\n        hasNextPage\n        perPage\n      }\n      activities(sort: ID_DESC, mediaId: $mediaId, userId: $userId) {\n        __typename\n        ... on ListActivity {\n          id\n          media {\n            id\n            type\n            title {\n              romaji\n            }\n            coverImage {\n              medium\n            }\n          }\n          type\n          createdAt\n          status\n          progress\n        }\n      }\n    }\n  }\n  ",l="query ($username: String) {\n    User (name: $username) {\n      id\n      name\n      avatar {\n        medium\n      }\n    }\n  }",p=a(4444),h={revalidateOnFocus:!1,dedupingInterval:36e5};function m(e,t){return g.apply(this,arguments)}function g(){return g=(0,o.Z)(regeneratorRuntime.mark((function e(t,a){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://graphql.anilist.co",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({query:t,variables:a})});case 2:return n=e.sent,e.next=5,n.json();case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function v(e){return f.apply(this,arguments)}function f(){return f=(0,o.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",m(l,{username:t}));case 1:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function y(e,t){return w.apply(this,arguments)}function w(){return w=(0,o.Z)(regeneratorRuntime.mark((function e(t,a){var n,i,s,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n={page:1,perPage:50,mediaId:a,userId:t},i=(0,p.ZP)("/user/"+t+"/media/"+a,(function(){return m(d,n)}),h),s=i.data,r=i.mutate,"undefined"!==typeof s.value){e.next=5;break}return e.next=5,r();case 5:return e.abrupt("return",s.value);case 6:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}function k(e,t){return _.apply(this,arguments)}function _(){return _=(0,o.Z)(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={userId:t,type:a},e.abrupt("return",m(u,n));case 2:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}function D(e,t,a,n,i){return b.apply(this,arguments)}function b(){return b=(0,o.Z)(regeneratorRuntime.mark((function e(t,a,n,i,s){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=void 0,"anime"==n?r="ANIME_LIST":"manga"==n&&(r="MANGA_LIST"),o={page:a,perPage:50,userId:t,type:r,from:i,to:s},e.abrupt("return",m(c,o));case 4:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function C(e,t){return e.d==t.d&&e.m==t.m&&e.y==t.y}var S=(new Intl.DateTimeFormat).formatToParts(new Date).map((function(e){switch(e.type){case"day":return"DD";case"month":return"MM";case"year":return"YYYY";default:return e.value}})).join(""),I=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],L=["January","February","March","April","May","June","July","August","September","October","November","December"],T={debug:!0,state:(0,r.qj)({userData:{id:0,username:"",avatar:""},activities:[],preloadedActivities:[],currentPage:1,updateHour:3,mediaType:"both",dateFormat:"default",saveSettings:!1,animeList:[],mangaList:[]}),setUserdata:function(e){this.state.userData.id=e.data.User.id,this.state.userData.username=e.data.User.name,this.state.userData.avatar=e.data.User.avatar.medium},incrementCurrentPage:function(){this.state.currentPage++},appendActivities:function(e){return this.state.activities=this.state.activities.concat(e),this.state.activities},destroy:function(){this.state.currentPage=1,this.state.activities=[],this.state.preloadedActivities=[],this.state.animeList=[],this.state.mangaList=[]},saveSettings:function(e){this.state.saveSettings=e},setSettings:function(e){this.destroy(),"updateHour"in e&&(this.state.updateHour=e.updateHour),"mediaType"in e&&e.mediaType&&(this.state.mediaType=e.mediaType),"dateFormat"in e&&e.dateFormat&&(this.state.dateFormat=e.dateFormat)},setPreloadedActivities:function(e){this.state.preloadedActivities=e},setAnimeList:function(e){this.state.animeList=e},setMangaList:function(e){this.state.mangaList=e},prettyDate:function(e){return 0==e.time?"Unknown":(t="universal"==this.state.dateFormat?"YYYY-MM-DD":S,t.replace("DD",e.d>=10?String(e.d):"0"+String(e.d)).replace("MM",e.m>=10?String(e.m):"0"+String(e.m)).replace("YYYY",String(e.y)));var t},parseActivities:function(e){var t=this,a=[];return e.forEach((function(e){var n=new Date(1e3*e.createdAt);n.getHours()<t.state.updateHour&&n.setDate(n.getDate()-1);var i,s={d:n.getDate(),m:n.getMonth()+1,y:n.getFullYear(),weekday:I[n.getDay()],time:n.getTime()},r=0,o=0;switch(e.status){case"watched episode":case"rewatched episode":i=e.progress.split(" - "),r=2==i.length?parseInt(i[1])-parseInt(i[0])+1:1;break;case"read chapter":case"reread chapter":i=e.progress.split(" - "),o=2==i.length?parseInt(i[1])-parseInt(i[0])+1:1;break;case"completed":case"rewatched":"ANIME"==e.media.type?r=1:o=1;break;default:return}var c={id:e.media.id,type:e.media.type,title:e.media.title.romaji,cover:e.media.coverImage.medium,episodes:r||o},u=a.find((function(e){return C(e.day,s)}));if(u){u.episodes+=r,u.chapters+=o;var d=u.media.find((function(e){return e.id==c.id&&e.type==c.type}));d?"ANIME"==d.type?d.episodes+=r:d.episodes+=o:u.media.push(c)}else a.push({day:s,episodes:r,chapters:o,media:c?[c]:[]})})),a}};a(6755);function A(e){var t=new Date(e);return{d:t.getDate(),m:t.getMonth()+1,y:t.getFullYear(),weekday:I[t.getDay()],time:t.getTime()}}function P(e){var t=e.find((function(e){return e.status.startsWith("plans")}));if(t){var a=new Date(1e3*t.createdAt),n={d:a.getDate(),m:a.getMonth()+1,y:a.getFullYear(),weekday:I[a.getDay()],time:a.getTime()};return t?T.prettyDate(n):"Unknown"}return"Unknown"}function M(){document.body.classList.contains("site-theme-light")?(document.body.classList.remove("site-theme-light"),window.localStorage.setItem("theme","dark")):(document.body.classList.add("site-theme-light"),window.localStorage.setItem("theme","light"))}var H=(0,i.aZ)({data:function(){return{state:T.state}},created:function(){var e=localStorage.getItem("updateHour"),t=localStorage.getItem("mediaType"),a=localStorage.getItem("dateFormat");e&&t&&a&&(T.saveSettings(!0),T.setSettings({updateHour:Number(e),mediaType:t,dateFormat:a}));var n=localStorage.getItem("theme");"light"==n&&M()},mounted:function(){this.$nextTick().then((function(){}))}}),$=a(3744);const W=(0,$.Z)(H,[["render",s]]);var Z=W,z=a(2119),E=a(3577),x={class:"container"},Y={key:0,class:"error"},O={class:"input"},N={class:"button-wrapper desktop"},q=(0,i.Uk)("Settings"),U={class:"button-wrapper desktop"},R=(0,i.Uk)("Continue"),j={class:"buttons mobile"},F={class:"button-wrapper"},V=(0,i.Uk)("Settings"),K={class:"button-wrapper"},G=(0,i.Uk)("Continue"),B={class:"settings"};function J(e,t,a,s,r,o){var c=(0,i.up)("Logo"),u=(0,i.up)("Button"),d=(0,i.up)("Settings"),l=(0,i.up)("Panel"),p=(0,i.up)("Special");return(0,i.wg)(),(0,i.iD)("div",x,[(0,i.Wm)(c,{size:"2em"}),(0,i.Wm)(n.uT,{name:"errorfade"},{default:(0,i.w5)((function(){return[e.error.length>0?((0,i.wg)(),(0,i.iD)("span",Y,(0,E.zw)(e.error),1)):(0,i.kq)("",!0)]})),_:1}),(0,i._)("div",O,[(0,i._)("div",N,[(0,i.Wm)(u,{icon:"cog",onClick:e.toggleSettings},{default:(0,i.w5)((function(){return[q]})),_:1},8,["onClick"])]),(0,i.wy)((0,i._)("input",{class:(0,E.C_)(["username",{usernameError:e.error.length>0,pulse:e.loading}]),placeholder:"Enter username",type:"text","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.username=t}),onKeyup:t[1]||(t[1]=(0,n.D2)((function(){return e.send&&e.send.apply(e,arguments)}),["enter"]))},null,34),[[n.nr,e.username]]),(0,i._)("div",U,[(0,i.Wm)(u,{onClick:e.send,icon:"chevron-right"},{default:(0,i.w5)((function(){return[R]})),_:1},8,["onClick"])])]),(0,i._)("div",j,[(0,i._)("div",F,[(0,i.Wm)(u,{icon:"cog",onClick:e.toggleSettings},{default:(0,i.w5)((function(){return[V]})),_:1},8,["onClick"])]),(0,i._)("div",K,[(0,i.Wm)(u,{onClick:e.send,icon:"chevron-right"},{default:(0,i.w5)((function(){return[G]})),_:1},8,["onClick"])])]),(0,i._)("div",B,[(0,i.Wm)(n.uT,{name:"settings",mode:"out-in"},{default:(0,i.w5)((function(){return[e.settings?((0,i.wg)(),(0,i.j4)(d,{key:0})):(0,i.kq)("",!0)]})),_:1})]),(0,i._)("footer",null,[(0,i.Wm)(l,{onSpecial:t[2]||(t[2]=function(t){return e.toggleSpecial(t)})})]),(0,i.Wm)(n.uT,{name:"popup-backdrop"},{default:(0,i.w5)((function(){return[e.showSpecial?((0,i.wg)(),(0,i.j4)(p,{key:0,view:e.specialView,onHide:t[3]||(t[3]=function(t){return e.showSpecial=!1})},null,8,["view"])):(0,i.kq)("",!0)]})),_:1})])}a(8783),a(3948),a(285),a(1637);var X=function(e){return(0,i.dD)("data-v-b48ed65c"),e=e(),(0,i.Cn)(),e},Q=X((function(){return(0,i._)("span",{class:"blue"},"ani",-1)})),ee=X((function(){return(0,i._)("span",null,"stats",-1)})),te=[Q,ee];function ae(e,t,a,n,s,r){return(0,i.wg)(),(0,i.iD)("div",{class:"logo",style:(0,E.j5)({fontSize:e.size})},te,4)}var ne=(0,i.aZ)({props:{size:String}});const ie=(0,$.Z)(ne,[["render",ae],["__scopeId","data-v-b48ed65c"]]);var se=ie,re={class:"btn"};function oe(e,t,a,n,s,r){var o=(0,i.up)("font-awesome-icon");return(0,i.wg)(),(0,i.iD)("button",re,[e.icon?((0,i.wg)(),(0,i.j4)(o,{key:0,icon:e.icon,size:"lg","fixed-width":""},null,8,["icon"])):(0,i.kq)("",!0),(0,i._)("span",null,[(0,i.WI)(e.$slots,"default",{},void 0,!0)])])}var ce=(0,i.aZ)({props:{icon:String,color:String}});const ue=(0,$.Z)(ce,[["render",oe],["__scopeId","data-v-61cca103"]]);var de=ue,le={class:"settings"},pe={class:"section"},he={class:"setting-header"},me={class:"setting-name"},ge={class:"setting-desc"},ve={class:"setting-switch"},fe=(0,i.Uk)("Save those settings for later ");function ye(e,t,a,n,s,r){var o=(0,i.up)("SettingsSwitcher"),c=(0,i.up)("Switch");return(0,i.wg)(),(0,i.iD)("div",le,[(0,i._)("div",pe,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.settings,(function(t,a){return(0,i.wg)(),(0,i.iD)("div",{class:"setting",key:a},[(0,i._)("div",he,[(0,i._)("div",me,(0,E.zw)(t.name),1),(0,i._)("div",ge,(0,E.zw)(t.desc),1)]),(0,i._)("div",ve,[(0,i.Wm)(o,{options:t.options,default:t.default,onSelection:function(t){return e.handleSelect(t,a)}},null,8,["options","default","onSelection"])])])})),128))]),(0,i.Wm)(c,{name:"save","model-value":e.save,"onUpdate:modelValue":e.toggleSave},{default:(0,i.w5)((function(){return[fe]})),_:1},8,["model-value","onUpdate:modelValue"])])}a(7042);var we={class:"switches"},ke=["onClick"];function _e(e,t,a,n,s,r){return(0,i.wg)(),(0,i.iD)("div",we,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.options,(function(t,a){return(0,i.wg)(),(0,i.iD)("div",{class:(0,E.C_)(["switch",{selected:t==e.chosen}]),key:a,onClick:function(a){return e.select(t)}},(0,E.zw)(e.capitalize(t)),11,ke)})),128))])}var De=(0,i.aZ)({props:{options:Array,default:String},data:function(){return{cho:[],chosen:""}},mounted:function(){this.chosen=this.default},methods:{capitalize:function(e){return e[0].toUpperCase()+e.slice(1)},select:function(e){this.chosen=e,this.$emit("selection",e)}}});const be=(0,$.Z)(De,[["render",_e],["__scopeId","data-v-2b5e10a5"]]);var Ce=be,Se=["checked","id"],Ie=["for"];function Le(e,t,a,n,s,r){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",null,[(0,i._)("input",{type:"checkbox",checked:e.modelValue,onInput:t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t.target.checked)}),id:e.name,class:"switch-input"},null,40,Se),(0,i._)("label",{for:e.name,class:"switch-label"},[(0,i.WI)(e.$slots,"default",{},void 0,!0)],8,Ie)])])}var Te=(0,i.aZ)({props:{modelValue:Boolean,name:String},emits:["update:modelValue"]});const Ae=(0,$.Z)(Te,[["render",Le],["__scopeId","data-v-6ae8c952"]]);var Pe=Ae,Me=(0,i.aZ)({components:{SettingsSwitcher:Ce,Switch:Pe},data:function(){return{state:T.state,save:!1,settings:[{name:"Stats type",desc:"Choose which type of media you want to be displayed.",options:["both","anime","manga"]},{name:"Beginning of a new day",desc:"You may choose to count late night as previous day.",options:["12am","1am","2am","3am","4am","6am"]},{name:"Date format",desc:"Default uses your system default. Universal looks like: 2022-03-03",options:["default","universal"]}]}},created:function(){this.settings[0].default=this.state.mediaType,this.settings[1].default=0==this.state.updateHour?"12am":this.state.updateHour+"am",this.settings[2].default=this.state.dateFormat,this.save=this.state.saveSettings},methods:{handleSelect:function(e,t){var a=e.toLowerCase();0==t?T.setSettings({mediaType:a}):1==t?"12am"==e?T.setSettings({updateHour:0}):T.setSettings({updateHour:Number(e.slice(0,-2))}):2==t&&T.setSettings({dateFormat:a})},toggleSave:function(e){this.save=e,T.saveSettings(e)}}});const He=(0,$.Z)(Me,[["render",ye],["__scopeId","data-v-5b102eec"]]);var $e=He,We={class:"footer-wrapper"},Ze={class:"footer"};function ze(e,t,a,n,s,r){return(0,i.wg)(),(0,i.iD)("div",We,[(0,i._)("div",Ze,[(0,i._)("span",{class:"footer-link",onClick:t[0]||(t[0]=function(){return e.lightMode&&e.lightMode.apply(e,arguments)})},"Toggle theme"),(0,i._)("span",{class:"footer-link",onClick:t[1]||(t[1]=function(t){return e.toggleSpecial("about")})},"About"),(0,i._)("span",{class:"footer-link",onClick:t[2]||(t[2]=function(t){return e.toggleSpecial("help")})},"Help")])])}var Ee=(0,i.aZ)({methods:{lightMode:function(){M()},toggleSpecial:function(e){this.$emit("special",e)}}});const xe=(0,$.Z)(Ee,[["render",ze],["__scopeId","data-v-559dcaec"]]);var Ye=xe,Oe=function(e){return(0,i.dD)("data-v-48d140ca"),e=e(),(0,i.Cn)(),e},Ne={class:"header"},qe={class:"header-title"},Ue=Oe((function(){return(0,i._)("span",{style:{flex:"1"}},null,-1)})),Re={class:"content"};function je(e,t,a,s,r,o){var c=(0,i.up)("font-awesome-icon");return(0,i.wg)(),(0,i.iD)("div",{class:"special",onClick:t[2]||(t[2]=function(){return e.popupHide&&e.popupHide.apply(e,arguments)})},[(0,i.Wm)(n.uT,{appear:"",name:"popup"},{default:(0,i.w5)((function(){return[(0,i._)("div",{class:"dialog",onClick:t[1]||(t[1]=function(){return e.popupClick&&e.popupClick.apply(e,arguments)})},[(0,i._)("div",Ne,[(0,i._)("div",qe,(0,E.zw)(e.view[0].toUpperCase()+e.view.slice(1)),1),Ue,(0,i._)("div",{class:"header-control",onClick:t[0]||(t[0]=function(){return e.popupHide&&e.popupHide.apply(e,arguments)})},[(0,i.Wm)(c,{icon:"times"})])]),(0,i._)("div",Re,[((0,i.wg)(),(0,i.j4)((0,i.LL)(e.view)))])])]})),_:1})])}var Fe=(0,i._)("p",null," anistats lets you check how much time you spend/waste on watching anime and reading manga based on your activity on AniList. ",-1),Ve=(0,i._)("p",null,[(0,i.Uk)(" Source code of this site is available "),(0,i._)("a",{target:"_blank",href:"https://github.com/mayudev/anistats"},"here"),(0,i.Uk)(". ")],-1),Ke=[Fe,Ve];function Ge(e,t,a,n,s,r){return(0,i.wg)(),(0,i.iD)("div",null,Ke)}var Be=(0,i.aZ)({});const Je=(0,$.Z)(Be,[["render",Ge]]);var Xe=Je,Qe=a(7765),et=(0,i.uE)('<h3 data-v-44ed22c0>How does it work?</h3> AniList has a small feature called &quot;Activity&quot;. Each time you watch an episode, add something to your planning list, an activity is created. anistats takes adventage of that to count how many episodes you&#39;ve seen on a specific day. <h3 data-v-44ed22c0>Why it doesn&#39;t work?</h3><h4 data-v-44ed22c0>Activity Merge Time</h4><img src="'+Qe+'" data-v-44ed22c0><br data-v-44ed22c0><b data-v-44ed22c0>It has to be set to 12 hours or less for anistats to work properly</b> (in most use cases). If you set it to &#39;Always&#39;, it produces <b data-v-44ed22c0>one activity per anime</b>, no matter how long it took you to watch it. For anistats, it&#39;s best if there is <b data-v-44ed22c0>at least one activity per anime per day.</b><br data-v-44ed22c0> Note: changing it won&#39;t affect previous activities. <br data-v-44ed22c0><br data-v-44ed22c0> Also, you have to add episodes using this little &#39;+&#39; symbol next to the episode count instead of setting it directly from the &#39;Edit&#39; menu. <br data-v-44ed22c0> Let&#39;s say you&#39;ve started a new series yesterday and watched 3 episodes so far. Today, after watching 3 next episodes, you set the episode count directly to &#39;6&#39;. AniList creates an activity saying that you&#39;ve watched episode 6. anistats counts that as <b data-v-44ed22c0>one</b> episode. <br data-v-44ed22c0> If you click the &#39;+&#39; symbol three times instead, the activity says that you&#39;ve watched episodes 4-6. anistats sees that correctly as 3 episodes. ',22),tt=[et];function at(e,t,a,n,s,r){return(0,i.wg)(),(0,i.iD)("div",null,tt)}var nt=(0,i.aZ)({});const it=(0,$.Z)(nt,[["render",at],["__scopeId","data-v-44ed22c0"]]);var st=it,rt=(0,i.aZ)({props:{view:String},components:{About:Xe,Help:st},methods:{popupHide:function(){this.$emit("hide")},popupClick:function(e){e.stopPropagation()}}});const ot=(0,$.Z)(rt,[["render",je],["__scopeId","data-v-48d140ca"]]);var ct=ot,ut=(0,i.aZ)({components:{Logo:se,Button:de,Settings:$e,Panel:Ye,Special:ct},data:function(){return{show:!0,loading:!1,settings:!1,showSpecial:!1,specialView:"",username:"",error:"",state:T.state}},mounted:function(){"1"==this.$route.query.error&&this.showError("Something went wrong. Please try again")},methods:{send:function(){if(this.username.length<2)return this.showError("Hey, I said enter your username.");if(this.username.startsWith("https://anilist.co"))try{var e=new URL(this.username);if(!e.pathname.startsWith("/user/"))throw"Invalid URL";var t=e.pathname.split("/")[2];this.process(t)}catch(a){this.showError(a)}else this.state.saveSettings?(localStorage.setItem("updateHour",String(this.state.updateHour)),localStorage.setItem("mediaType",this.state.mediaType),localStorage.setItem("dateFormat",this.state.dateFormat)):(localStorage.removeItem("updateHour"),localStorage.removeItem("mediaType"),localStorage.removeItem("dateFormat")),this.loading=!0,this.process(this.username)},process:function(e){var t=this;this.state.userData.username==e&&this.state.activities.length>0?this.$router.push("/"+e):v(e).then((function(a){T.destroy(),T.setUserdata(a),t.$router.push("/"+e)})).catch((function(){t.showError("Invalid username (or profile is private)")}))},showError:function(e){var t=this;this.loading=!1,this.error=e,setTimeout((function(){t.error=""}),5e3)},toggleSettings:function(){this.settings=!this.settings},toggleSpecial:function(e){this.specialView=e,this.showSpecial=!0}}});const dt=(0,$.Z)(ut,[["render",J],["__scopeId","data-v-80e3d0e6"]]);var lt=dt,pt={key:1,class:"view"},ht={class:"content"},mt={class:"mobile-header"};function gt(e,t,a,s,r,o){var c=(0,i.up)("Loading"),u=(0,i.up)("Sidebar"),d=(0,i.up)("font-awesome-icon"),l=(0,i.up)("Logo"),p=(0,i.up)("router-link"),h=(0,i.up)("router-view"),m=(0,i.up)("Special");return e.loading?((0,i.wg)(),(0,i.j4)(c,{key:0})):((0,i.wg)(),(0,i.iD)("div",pt,[(0,i._)("div",{class:(0,E.C_)(["sidebar-wrapper",{"sidebar-hide-mobile":!e.showSidebar}])},[(0,i.Wm)(u,{onSpecial:t[0]||(t[0]=function(t){return e.toggleSpecial(t)}),onToggle:e.toggleSidebar},null,8,["onToggle"])],2),(0,i._)("div",ht,[(0,i._)("div",mt,[(0,i._)("div",{class:"mobile-icon",onClick:t[1]||(t[1]=function(){return e.toggleSidebar&&e.toggleSidebar.apply(e,arguments)})},[(0,i.Wm)(d,{icon:"bars",size:"lg"})]),(0,i.Wm)(p,{class:"a",to:"/"},{default:(0,i.w5)((function(){return[(0,i.Wm)(l,{size:"1.8em"})]})),_:1})]),(0,i.Wm)(h,{onLoadRequest:e.loadEarlierActivities},null,8,["onLoadRequest"])]),(0,i.Wm)(n.uT,{name:"popup-backdrop"},{default:(0,i.w5)((function(){return[e.showSpecial?((0,i.wg)(),(0,i.j4)(m,{key:0,view:e.specialView,onHide:t[2]||(t[2]=function(t){return e.showSpecial=!1})},null,8,["view"])):(0,i.kq)("",!0)]})),_:1})]))}a(7327),a(561);var vt=function(e){return(0,i.dD)("data-v-f732bc50"),e=e(),(0,i.Cn)(),e},ft={class:"container"},yt=vt((function(){return(0,i._)("div",{class:"loading"},"Loading...",-1)}));function wt(e,t,a,n,s,r){var o=(0,i.up)("Logo");return(0,i.wg)(),(0,i.iD)("div",ft,[(0,i.Wm)(o,{size:"3em"}),yt])}var kt=(0,i.aZ)({components:{Logo:se}});const _t=(0,$.Z)(kt,[["render",wt],["__scopeId","data-v-f732bc50"]]);var Dt=_t,bt=function(e){return(0,i.dD)("data-v-7a27de70"),e=e(),(0,i.Cn)(),e},Ct={class:"sidebar"},St={class:"header"},It=(0,i.Uk)("Overview"),Lt={key:0,class:"category"},Tt=bt((function(){return(0,i._)("span",{class:"category-header"},"Anime",-1)})),At=(0,i.Uk)("List"),Pt=(0,i.Uk)("History"),Mt={key:1,class:"category"},Ht=bt((function(){return(0,i._)("span",{class:"category-header"},"Manga",-1)})),$t=(0,i.Uk)("List"),Wt=(0,i.Uk)("History"),Zt={class:"category category-small"};function zt(e,t,a,n,s,r){var o=(0,i.up)("font-awesome-icon"),c=(0,i.up)("Logo"),u=(0,i.up)("router-link"),d=(0,i.up)("MenuItem");return(0,i.wg)(),(0,i.iD)("div",Ct,[(0,i._)("div",St,[(0,i._)("div",{class:"header-icon",onClick:t[0]||(t[0]=function(){return e.emitToggle&&e.emitToggle.apply(e,arguments)})},[(0,i.Wm)(o,{icon:"bars",size:"lg"})])]),(0,i.Wm)(u,{class:"a",to:"/"},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{size:"2em"})]})),_:1}),(0,i.Wm)(d,{onClick:e.emitToggle,icon:"user-circle",to:""},{default:(0,i.w5)((function(){return[It]})),_:1},8,["onClick"]),"manga"!=e.state.mediaType?((0,i.wg)(),(0,i.iD)("div",Lt,[Tt,(0,i.Wm)(d,{onClick:e.emitToggle,icon:"list",to:"/list/anime"},{default:(0,i.w5)((function(){return[At]})),_:1},8,["onClick"]),(0,i.Wm)(d,{onClick:e.emitToggle,icon:"history",to:"/history/anime"},{default:(0,i.w5)((function(){return[Pt]})),_:1},8,["onClick"])])):(0,i.kq)("",!0),"anime"!=e.state.mediaType?((0,i.wg)(),(0,i.iD)("div",Mt,[Ht,(0,i.Wm)(d,{onClick:e.emitToggle,icon:"book-open",to:"/list/manga"},{default:(0,i.w5)((function(){return[$t]})),_:1},8,["onClick"]),(0,i.Wm)(d,{onClick:e.emitToggle,icon:"history",to:"/history/manga"},{default:(0,i.w5)((function(){return[Wt]})),_:1},8,["onClick"])])):(0,i.kq)("",!0),(0,i._)("div",Zt,[(0,i._)("span",{onClick:t[1]||(t[1]=function(){return e.toggleTheme&&e.toggleTheme.apply(e,arguments)}),class:"item-small"},"Toggle theme"),(0,i._)("span",{onClick:t[2]||(t[2]=function(t){return e.toggleSpecial("help")}),class:"item-small"},"Help"),(0,i._)("span",{onClick:t[3]||(t[3]=function(t){return e.toggleSpecial("about")}),class:"item-small"},"About")])])}var Et={class:"label"};function xt(e,t,a,n,s,r){var o=(0,i.up)("font-awesome-icon"),c=(0,i.up)("router-link");return(0,i.wg)(),(0,i.j4)(c,{to:"/"+e.$route.params.user+e.to,class:"menuitem"},{default:(0,i.w5)((function(){return[(0,i.Wm)(o,{icon:e.icon,size:"lg","fixed-width":""},null,8,["icon"]),(0,i._)("span",Et,[(0,i.WI)(e.$slots,"default",{},void 0,!0)])]})),_:3},8,["to"])}var Yt=(0,i.aZ)({props:{to:String,icon:String}});const Ot=(0,$.Z)(Yt,[["render",xt],["__scopeId","data-v-5bc8ad9c"]]);var Nt=Ot,qt=(0,i.aZ)({components:{Logo:se,MenuItem:Nt},data:function(){return{state:T.state}},methods:{emitToggle:function(){this.$emit("toggle")},toggleTheme:function(){M()},toggleSpecial:function(e){this.$emit("special",e)}}});const Ut=(0,$.Z)(qt,[["render",zt],["__scopeId","data-v-7a27de70"]]);var Rt=Ut,jt=(0,i.aZ)({components:{Loading:Dt,Sidebar:Rt,Logo:se,Special:ct},data:function(){return{loading:!0,lock:!1,lastPage:0,state:T.state,showSidebar:!1,showSpecial:!1,specialView:"",preloadedActivities:[]}},mounted:function(){var e=this;this.state.userData.id?0==this.state.activities.length?this.loadActivites():this.loading=!1:v(this.$route.params.user).then((function(t){T.setUserdata(t),e.loadActivites()})).catch((function(){e.$router.push({path:"/",query:{error:1}})}))},methods:{loadActivites:function(){var e=this;D(this.state.userData.id,this.state.currentPage,this.state.mediaType).then((function(t){e.lastPage=t.data.Page.pageInfo.lastPage;var a=T.parseActivities(t.data.Page.activities);if(0==a.length)return e.$router.push({path:"/",query:{error:1}});e.preloadActivites(a).then((function(t){T.setPreloadedActivities(t),T.appendActivities(a),e.loading=!1}))}))},loadEarlierActivities:function(){var e=this;if(!this.lock){this.lock=!0,T.incrementCurrentPage();var t=T.appendActivities(this.state.preloadedActivities);this.preloadActivites(t).then((function(t){T.setPreloadedActivities(t),e.lock=!1}))}},preloadActivites:function(e){var t=this;return(0,o.Z)(regeneratorRuntime.mark((function a(){var n,i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.state.currentPage!=t.lastPage){a.next=2;break}return a.abrupt("return",[]);case 2:return a.next=4,D(t.state.userData.id,t.state.currentPage+1,t.state.mediaType);case 4:return n=a.sent,i=T.parseActivities(n.data.Page.activities),s=i.filter((function(t){return C(t.day,e[e.length-1].day)})),s.forEach((function(t){var a=i.indexOf(t);i.splice(a,1);var n=e[e.length-1];n.media=n.media.concat(t.media),n.episodes+=t.episodes,n.chapters+=t.chapters})),a.abrupt("return",i);case 9:case"end":return a.stop()}}),a)})))()},toggleSidebar:function(){this.showSidebar=!this.showSidebar},toggleSpecial:function(e){this.specialView=e,this.showSpecial=!0}}});const Ft=(0,$.Z)(jt,[["render",gt],["__scopeId","data-v-c8253eb4"]]);var Vt=Ft,Kt={class:"main"},Gt={class:"left"},Bt={class:"tooltipct"},Jt={key:0,class:"tooltip"},Xt=(0,i.Uk)("Episodes watched"),Qt=(0,i.Uk)("Chapters read");function ea(e,t,a,s,r,o){var c=(0,i.up)("DataRange"),u=(0,i.up)("Calendar"),d=(0,i.up)("Tooltip"),l=(0,i.up)("Chart"),p=(0,i.up)("DetailsContainer");return(0,i.wg)(),(0,i.iD)("div",Kt,[(0,i.Wm)(n.uT,{name:"popup-backdrop"},{default:(0,i.w5)((function(){return[e.showTooltip?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"popup",onClick:t[0]||(t[0]=function(){return e.popupHide&&e.popupHide.apply(e,arguments)})})):(0,i.kq)("",!0)]})),_:1}),(0,i._)("div",Gt,[(0,i.Wm)(c,{onLoadRequest:e.load},null,8,["onLoadRequest"]),(0,i.Wm)(u,{onPopup:e.showPopup,onError:e.showError,onDynamicPopup:e.fetchPopup},null,8,["onPopup","onError","onDynamicPopup"]),(0,i._)("div",Bt,[(0,i.Wm)(n.uT,{name:"easein",mode:"in-out"},{default:(0,i.w5)((function(){return[e.showTooltip?((0,i.wg)(),(0,i.iD)("div",Jt,[(0,i.Wm)(d,{day:e.tooltipActivities,onClose:e.popupHide,loading:e.popupLoading},null,8,["day","onClose","loading"])])):(0,i.kq)("",!0)]})),_:1})]),"manga"!=e.state.mediaType?((0,i.wg)(),(0,i.j4)(l,{key:0,height:150,id:"episodes",row:"episodes"},{default:(0,i.w5)((function(){return[Xt]})),_:1})):(0,i.kq)("",!0),"anime"!=e.state.mediaType?((0,i.wg)(),(0,i.j4)(l,{key:1,height:150,id:"chapters",row:"chapters"},{default:(0,i.w5)((function(){return[Qt]})),_:1})):(0,i.kq)("",!0)]),(0,i.Wm)(p,{onLoadRequest:e.load},null,8,["onLoadRequest"])])}var ta=function(e){return(0,i.dD)("data-v-1b9ecc7c"),e=e(),(0,i.Cn)(),e},aa={class:"details"},na=ta((function(){return(0,i._)("div",{class:"title"},"Timeline",-1)})),ia={class:"group-header"},sa={class:"date-group"},ra={class:"weekday"},oa={class:"date"},ca=ta((function(){return(0,i._)("span",{style:{flex:"1"}},null,-1)})),ua={key:0,class:"prop"},da={class:"prop-value"},la=ta((function(){return(0,i._)("div",{class:"prop-desc"},"chapters",-1)})),pa={key:1,class:"prop"},ha={class:"prop-value"},ma=ta((function(){return(0,i._)("div",{class:"prop-desc"},"episodes",-1)}));function ga(e,t,a,n,s,r){var o=(0,i.up)("SeriesItem");return(0,i.wg)(),(0,i.iD)("div",aa,[na,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.state.activities,(function(t,a){return(0,i.wg)(),(0,i.iD)("div",{class:"group",key:a},[(0,i._)("div",ia,[(0,i._)("div",sa,[(0,i._)("span",ra,(0,E.zw)(t.day.weekday),1),(0,i._)("span",oa,(0,E.zw)(e.prettyDate(t.day)),1)]),ca,"anime"!=e.state.mediaType?((0,i.wg)(),(0,i.iD)("div",ua,[(0,i._)("div",da,(0,E.zw)(t.chapters),1),la])):(0,i.kq)("",!0),"manga"!=e.state.mediaType?((0,i.wg)(),(0,i.iD)("div",pa,[(0,i._)("div",ha,(0,E.zw)(t.episodes),1),ma])):(0,i.kq)("",!0)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.media,(function(e,a){return(0,i.wg)(),(0,i.j4)(o,{key:a,stamp:t.day.d+"a"+t.day.m+a,media:e},null,8,["stamp","media"])})),128))])})),128)),(0,i._)("button",{class:"button group",onClick:t[0]||(t[0]=function(t){return e.$emit("loadRequest")})},"More...")])}var va=function(e){return(0,i.dD)("data-v-6a7abd71"),e=e(),(0,i.Cn)(),e},fa={class:"item-wrapper"},ya=["alt","src"],wa=["title"],ka=va((function(){return(0,i._)("span",{style:{flex:"1"}},null,-1)})),_a={class:"prop"},Da={class:"prop-value"},ba={class:"prop-desc"};function Ca(e,t,a,s,r,o){var c=(0,i.up)("SeriesDetails");return(0,i.wg)(),(0,i.iD)("div",fa,[(0,i._)("div",{class:"item",onClick:t[0]||(t[0]=function(){return e.toggleDisplay&&e.toggleDisplay.apply(e,arguments)})},[(0,i._)("img",{class:"image",alt:"Cover image of "+e.media.title,src:e.media.cover},null,8,ya),(0,i._)("span",{class:"title",title:e.media.title},(0,E.zw)(e.media.title),9,wa),ka,(0,i._)("div",_a,[(0,i._)("span",Da,(0,E.zw)(e.media.episodes),1),(0,i._)("span",ba,(0,E.zw)("ANIME"===e.media.type?"episodes":"chapters"),1)])]),(0,i.Wm)(n.uT,{name:"details"},{default:(0,i.w5)((function(){return[e.details&&!e.hide?((0,i.wg)(),(0,i.j4)(c,{key:0,stamp:e.stamp,media:e.media},null,8,["stamp","media"])):(0,i.kq)("",!0)]})),_:1})])}var Sa=function(e){return(0,i.dD)("data-v-45c2172c"),e=e(),(0,i.Cn)(),e},Ia={key:0},La={key:1,class:"entries"},Ta={class:"header"},Aa=Sa((function(){return(0,i._)("div",{class:"tip-name"},"Planned since",-1)})),Pa={class:"tip-value"};function Ma(e,t,a,n,s,r){var o=(0,i.up)("CheapLoading"),c=(0,i.up)("ActivityChart");return e.loading?((0,i.wg)(),(0,i.iD)("div",Ia,[(0,i.Wm)(o)])):((0,i.wg)(),(0,i.iD)("div",La,[(0,i._)("div",Ta,[Aa,(0,i._)("div",Pa,(0,E.zw)(e.added),1)]),(0,i.Wm)(c,{height:100,id:e.media.id+""+e.stamp,row:"ANIME"==e.media.type?"episodes":"chapters",activities:e.activities},null,8,["id","row","activities"])]))}var Ha={class:"loading"};function $a(e,t,a,n,s,r){return(0,i.wg)(),(0,i.iD)("div",Ha,"Loading...")}var Wa=(0,i.aZ)({});const Za=(0,$.Z)(Wa,[["render",$a],["__scopeId","data-v-c1077924"]]);var za=Za,Ea=["id"],xa={class:"axis"},Ya={class:"label-top"},Oa={class:"label-bottom"};function Na(e,t,a,n,s,r){return(0,i.wg)(),(0,i.iD)("div",{class:"chart",ref:"chart",onMousedown:t[0]||(t[0]=function(){return e.mouseDown&&e.mouseDown.apply(e,arguments)}),onMouseup:t[1]||(t[1]=function(){return e.mouseUp&&e.mouseUp.apply(e,arguments)}),onMousemove:t[2]||(t[2]=function(){return e.mouseMove&&e.mouseMove.apply(e,arguments)}),onMouseleave:t[3]||(t[3]=function(){return e.mouseLeave&&e.mouseLeave.apply(e,arguments)})},[(0,i._)("div",{id:"area-"+e.id,ref:"area"},null,8,Ea),(0,i._)("div",xa,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.activities,(function(t,a){return(0,i.wg)(),(0,i.iD)("div",{class:"label",key:a},[(0,i._)("span",Ya,(0,E.zw)(e.prettyDate(t.day)),1),(0,i._)("span",Oa,(0,E.zw)(t.day.weekday),1)])})),128))])],544)}var qa=a(6436),Ua=(0,i.aZ)({props:{activities:{type:Array,required:!0},row:{type:String,required:!0},id:String,height:{type:Number,required:!0}},data:function(){return{state:T.state,prettyDate:T.prettyDate,margin:{top:50,bottom:10},dragging:!1,startX:0,scrollLeft:0}},watch:{activities:function(){this.clean(),this.render()}},mounted:function(){this.render()},methods:{clean:function(){var e=this.$refs.area;while(e.lastChild)e.removeChild(e.lastChild)},render:function(){var e=this,t=100,a=this.activities.length*t,n=qa.Ys("#area-"+this.id).append("svg").attr("width",a).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform","translate(0, ".concat(this.margin.top,")")),i=qa.tiA().domain(this.activities.map((function(t){return e.prettyDate(t.day)}))).range([0,a]),s=this.activities.map((function(t){return t[e.row]})),r=qa.BYU().domain([qa.VV$(s),qa.Fp7(s)]).range([this.height,0]),o=qa.jvg().x((function(a){return i(e.prettyDate(a.day))+t/2})).y((function(t){return r(t[e.row])})).curve(qa.FdL);n.append("path").datum(this.activities).attr("fill","none").attr("stroke","#188cc6").attr("stroke-width",4).attr("d",o),n.selectAll("labels").data(this.activities).join("text").text((function(t){return t[e.row]})).attr("class","chart-label").attr("text-anchor","middle").attr("font-weight","500").attr("x",(function(a){return i(e.prettyDate(a.day))+t/2})).attr("y",(function(t){return r(t[e.row])-15})),n.selectAll("circles").data(this.activities).join("circle").attr("fill","#34bbff").attr("stroke","none").attr("fill-opacity","0.7").attr("r",5).attr("cx",(function(a){return i(e.prettyDate(a.day))+t/2})).attr("cy",(function(t){return r(t[e.row])}))},mouseDown:function(e){this.dragging=!0,this.startX=e.pageX-this.$refs.chart.offsetLeft,this.scrollLeft=this.$refs.chart.scrollLeft},mouseUp:function(){this.dragging=!1},mouseMove:function(e){if(this.dragging){var t=e.pageX-this.$refs.chart.offsetLeft,a=1.5*(t-this.startX);this.$refs.chart.scrollLeft=this.scrollLeft-a}},mouseLeave:function(){this.dragging=!1}}});const Ra=(0,$.Z)(Ua,[["render",Na],["__scopeId","data-v-56babd4e"]]);var ja=Ra,Fa=(0,i.aZ)({props:{media:{},stamp:String},components:{CheapLoading:za,ActivityChart:ja},data:function(){return{state:T.state,prettyDate:T.prettyDate,activities:[],added:"Unknown",loading:!0}},mounted:function(){var e=this;y(this.state.userData.id,this.media.id).then((function(t){var a=t.data.Page.activities;e.activities=T.parseActivities(a).reverse(),"undefined"==typeof e.media.added?e.added=P(a):e.added=0==e.media.added.time?"Unknown":e.prettyDate(e.media.added),e.loading=!1}))}});const Va=(0,$.Z)(Fa,[["render",Ma],["__scopeId","data-v-45c2172c"]]);var Ka=Va,Ga=(0,i.aZ)({props:{media:Object,hide:Boolean,stamp:String},components:{SeriesDetails:Ka},data:function(){return{details:!1}},watch:{hide:function(e){this.details=!e}},methods:{toggleDisplay:function(){this.$emit("toggle"),this.details=!this.details}}});const Ba=(0,$.Z)(Ga,[["render",Ca],["__scopeId","data-v-6a7abd71"]]);var Ja=Ba,Xa=(0,i.aZ)({components:{SeriesItem:Ja},data:function(){return{state:T.state,prettyDate:T.prettyDate}}});const Qa=(0,$.Z)(Xa,[["render",ga],["__scopeId","data-v-1b9ecc7c"]]);var en=Qa,tn=function(e){return(0,i.dD)("data-v-2074683a"),e=e(),(0,i.Cn)(),e},an={class:"calendar"},nn={class:"header"},sn=tn((function(){return(0,i._)("div",{class:"header-title"},"Calendar",-1)})),rn=tn((function(){return(0,i._)("span",{style:{flex:"1"}},null,-1)})),on={class:"header-month"},cn={class:"header-monthName"},un=tn((function(){return(0,i._)("span",null,(0,E.zw)(" "),-1)})),dn={key:0,class:"picker"},ln=["onClick"],pn={class:"display"},hn=(0,i.uE)('<div class="weekdays" data-v-2074683a><div class="weekday" data-v-2074683a>Sun</div><div class="weekday" data-v-2074683a>Mon</div><div class="weekday" data-v-2074683a>Tue</div><div class="weekday" data-v-2074683a>Wed</div><div class="weekday" data-v-2074683a>Thu</div><div class="weekday" data-v-2074683a>Fri</div><div class="weekday" data-v-2074683a>Sat</div></div>',1),mn={class:"days"},gn=["onClick","title"];function vn(e,t,a,n,s,r){var o=(0,i.up)("font-awesome-icon");return(0,i.wg)(),(0,i.iD)("div",an,[(0,i._)("div",nn,[sn,rn,(0,i._)("div",on,[(0,i._)("span",cn,(0,E.zw)(e.displayMonth),1),un,(0,i._)("span",{class:"header-year",onClick:t[0]||(t[0]=function(t){return e.toggleYearPicker()}),title:"Click to open year picker"},(0,E.zw)(e.y),1)]),(0,i._)("div",{class:"header-control",onClick:t[1]||(t[1]=function(t){return e.update(-1)})},[(0,i.Wm)(o,{icon:"chevron-left"})]),(0,i._)("div",{class:"header-control",onClick:t[2]||(t[2]=function(t){return e.update(1)})},[(0,i.Wm)(o,{icon:"chevron-right"})])]),e.showYearPicker?((0,i.wg)(),(0,i.iD)("div",dn,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.pickerYears,(function(t){return(0,i.wg)(),(0,i.iD)("div",{class:(0,E.C_)(["pick-item",{selected:t==e.y}]),key:t,onClick:function(a){return e.loadMonth(e.m-1,t)}},(0,E.zw)(t),11,ln)})),128))])):(0,i.kq)("",!0),(0,i._)("div",pn,[hn,(0,i._)("div",mn,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.days,(function(t,a){return(0,i.wg)(),(0,i.iD)("div",{class:"day",key:a,style:(0,E.j5)(1==t.n?{gridColumn:e.firstWeekday+1}:""),onClick:function(a){return e.handleClick(a,t)},title:"".concat(e.displayMonth," ").concat(t.n,", ").concat(e.y,"\nClick to see activities on this day.").concat(t.notLoaded||t.notYetHappened?"\nIf you want to have colored background here, click Load more button below until it appears.":"")},[(0,i._)("div",{class:"day-bg",style:(0,E.j5)({opacity:e.getOpacity(t.episodes)})},null,4),(0,i._)("div",{class:"day-label",style:(0,E.j5)({opacity:t.notLoaded||t.notYetHappened?"0.5":""})},(0,E.zw)(t.n),5)],12,gn)})),128))])])])}var fn=(0,i.aZ)({data:function(){return{state:T.state,days:[],y:2021,m:0,displayMonth:"",firstWeekday:0,max:0,showYearPicker:!1,pickerYears:[]}},mounted:function(){var e=new Date;this.m=e.getMonth(),this.y=e.getFullYear(),this.preparePickers(),this.loadMonth(this.m,this.y)},computed:{activities:function(){return this.state.activities}},watch:{activities:function(){this.loadMonth(this.m-1,this.y)}},methods:{loadMonth:function(e,t){var a=this;this.days.length=0;var n=new Date(t,e,1);this.firstWeekday=n.getDay();var i=this.daysInMonth(e,t);this.max=Math.max.apply(Math,this.state.activities.map((function(e){return e.episodes+e.chapters})));var s=this.state.activities[0],r=32,o=this.state.activities[this.state.activities.length-1],c=0;o.day.m==e+1&&o.day.y==t?c=o.day.d:(o.day.m>e+1&&o.day.y==t||o.day.y>t)&&(c=32),s.day.m==e+1&&s.day.y==t?r=s.day.d:(s.day.m<e+1&&s.day.y==t||s.day.y<t)&&(r=0);for(var u=function(n){var i=a.state.activities.find((function(a){return a.day.d==n&&a.day.m==e+1&&a.day.y==t}));a.days.push({n:n,activities:i,notLoaded:!i&&n<c,notYetHappened:n>r,episodes:i?i.episodes+i.chapters:0})},d=1;d<=i;d++)u(d);this.m=e+1,this.y=t,this.displayMonth=new Intl.DateTimeFormat("default",{month:"long"}).format(n)},handleClick:function(e,t){t.activities?this.$emit("popup",{event:e,activities:t.activities}):t.activities||t.notLoaded?t.notYetHappened||this.$emit("dynamicPopup",{event:e,d:t.n,m:this.m,y:this.y}):this.$emit("error","There are no activities present on this day.")},update:function(e){e>0?this.m+1>12?(this.y++,this.loadMonth(0,this.y)):this.loadMonth(this.m,this.y):this.m-1<1?(this.y--,this.loadMonth(11,this.y)):this.loadMonth(this.m-2,this.y)},toggleYearPicker:function(){this.showYearPicker=!this.showYearPicker},preparePickers:function(){this.pickerYears=[this.y-3,this.y-2,this.y-1,this.y]},daysInMonth:function(e,t){switch(e){case 1:return t%4==0&&t%100||t%400==0?29:28;case 8:case 3:case 5:case 10:return 30;default:return 31}},getOpacity:function(e){var t=e/this.max;return 0==t?0:t<.15?.15:t}}});const yn=(0,$.Z)(fn,[["render",vn],["__scopeId","data-v-2074683a"]]);var wn=yn,kn=function(e){return(0,i.dD)("data-v-f97fbc92"),e=e(),(0,i.Cn)(),e},_n={class:"datarange"},Dn=kn((function(){return(0,i._)("div",{class:"header-title"},"Data range",-1)})),bn=kn((function(){return(0,i._)("span",{style:{flex:"1"}},null,-1)})),Cn=kn((function(){return(0,i._)("span",{class:"button-label"},"Load more",-1)})),Sn=kn((function(){return(0,i._)("span",{class:"breaker"},null,-1)})),In={class:"header-range"};function Ln(e,t,a,n,s,r){var o=(0,i.up)("font-awesome-icon");return(0,i.wg)(),(0,i.iD)("div",_n,[Dn,bn,(0,i._)("div",{class:"header-button",onClick:t[0]||(t[0]=function(t){return e.$emit("loadRequest")})},[(0,i.Wm)(o,{icon:"redo-alt"}),Cn]),Sn,(0,i._)("span",In,(0,E.zw)(e.lastLoadedDay)+" - today",1)])}var Tn=(0,i.aZ)({data:function(){return{state:T.state}},computed:{lastLoadedDay:function(){return T.prettyDate(this.state.activities[this.state.activities.length-1].day)}}});const An=(0,$.Z)(Tn,[["render",Ln],["__scopeId","data-v-f97fbc92"]]);var Pn=An,Mn=function(e){return(0,i.dD)("data-v-c3c45160"),e=e(),(0,i.Cn)(),e},Hn={class:"tooltip"},$n={key:0},Wn={key:1},Zn={class:"header"},zn={class:"header-title"},En=Mn((function(){return(0,i._)("span",{style:{flex:"1"}},null,-1)})),xn={key:0,class:"prop"},Yn={class:"prop-value"},On=Mn((function(){return(0,i._)("div",{class:"prop-desc",title:"chapters"},"chapters",-1)})),Nn={key:1,class:"prop"},qn={class:"prop-value"},Un=Mn((function(){return(0,i._)("div",{class:"prop-desc",title:"episodes"},"episodes",-1)})),Rn={class:"content"};function jn(e,t,a,n,s,r){var o=(0,i.up)("CheapLoading"),c=(0,i.up)("font-awesome-icon"),u=(0,i.up)("SeriesItem");return(0,i.wg)(),(0,i.iD)("div",Hn,[e.loading?((0,i.wg)(),(0,i.iD)("div",$n,[(0,i.Wm)(o)])):((0,i.wg)(),(0,i.iD)("div",Wn,[(0,i._)("div",Zn,[(0,i._)("div",zn,(0,E.zw)(e.prettyDate(e.day.day)),1),En,e.day.chapters>0?((0,i.wg)(),(0,i.iD)("div",xn,[(0,i._)("div",Yn,(0,E.zw)(e.day.chapters),1),On])):(0,i.kq)("",!0),e.day.episodes>0?((0,i.wg)(),(0,i.iD)("div",Nn,[(0,i._)("div",qn,(0,E.zw)(e.day.episodes),1),Un])):(0,i.kq)("",!0),(0,i._)("div",{class:"header-control",onClick:t[0]||(t[0]=function(){return e.close&&e.close.apply(e,arguments)})},[(0,i.Wm)(c,{icon:"times"})])]),(0,i._)("div",Rn,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.day.media,(function(t,a){return(0,i.wg)(),(0,i.j4)(u,{key:a,media:t,onToggle:function(t){return e.handleClick(a)},hide:e.selected!=a},null,8,["media","onToggle","hide"])})),128))])]))])}var Fn=(0,i.aZ)({props:{day:{},loading:Boolean},components:{SeriesItem:Ja,CheapLoading:za},data:function(){return{state:T.state,prettyDate:T.prettyDate,selected:-1}},methods:{close:function(){this.$emit("close")},handleClick:function(e){this.selected==e?this.selected=-1:this.selected=e}}});const Vn=(0,$.Z)(Fn,[["render",jn],["__scopeId","data-v-c3c45160"]]);var Kn=Vn,Gn={class:"chart-container"},Bn={class:"header"},Jn={class:"header-title"};function Xn(e,t,a,n,s,r){var o=(0,i.up)("ActivityChart");return(0,i.wg)(),(0,i.iD)("div",Gn,[(0,i._)("div",Bn,[(0,i._)("div",Jn,[(0,i.WI)(e.$slots,"default",{},void 0,!0)])]),(0,i.Wm)(o,{height:e.height,row:e.row,id:e.id,activities:e.state.activities},null,8,["height","row","id","activities"])])}var Qn=(0,i.aZ)({components:{ActivityChart:ja},props:{row:String,id:String,height:Number},data:function(){return{state:T.state}}});const ei=(0,$.Z)(Qn,[["render",Xn],["__scopeId","data-v-23afda22"]]);var ti=ei,ai=(0,i.aZ)({components:{DetailsContainer:en,Calendar:wn,Tooltip:Kn,DataRange:Pn,Chart:ti},data:function(){return{state:T.state,showTooltip:!1,tooltipActivities:{},popupLoading:!1}},methods:{load:function(){this.$emit("loadRequest")},showPopup:function(e){this.showTooltip=!1,this.tooltipActivities=e.activities,this.showTooltip=!0},fetchPopup:function(e){var t=this;this.popupLoading=!0,this.showTooltip=!0;var a=new Date(e.y,e.m-1,e.d),n=a.getTime()/1e3+3600*this.state.updateHour,i=n+86400;D(this.state.userData.id,1,this.state.mediaType,n,i).then((function(e){var a=T.parseActivities(e.data.Page.activities);t.tooltipActivities=a[0],0==a.length?t.showTooltip=!1:t.popupLoading=!1}))},showError:function(e){console.log(e)},popupHide:function(){this.showTooltip=!1}}});const ni=(0,$.Z)(ai,[["render",ea],["__scopeId","data-v-a99187b4"]]);var ii=ni,si=function(e){return(0,i.dD)("data-v-1f7bcf57"),e=e(),(0,i.Cn)(),e},ri={class:"list"},oi={class:"controls"},ci={class:"controls-search"},ui={class:"filter-name"},di=["onClick"],li={cellspacing:"0"},pi=si((function(){return(0,i._)("thead",null,[(0,i._)("tr",null,[(0,i._)("th",{class:"tableHeader tableHeader-title"},"Title"),(0,i._)("th",{class:"tableHeader tableHeader-regular"},"Type"),(0,i._)("th",{class:"tableHeader tableHeader-regular table-responsive"}," Added "),(0,i._)("th",{class:"tableHeader tableHeader-regular table-responsive"}," Completed "),(0,i._)("th",{class:"tableHeader tableHeader-regular table-responsive2"}," Status "),(0,i._)("th",{class:"tableHeader"})])],-1)})),hi={key:0,class:"loading"},mi={key:1},gi=["onClick"],vi={class:"tableData tableData-title"},fi=["data-src"],yi={class:"tableData tableData-regular"},wi={class:"tableData tableData-regular table-responsive"},ki={class:"tableData tableData-regular table-responsive"},_i={class:"tableData tableData-regular table-responsive2"},Di={class:"tableData tableData-icon"},bi={key:0,class:"loading"};function Ci(e,t,a,s,r,o){var c=(0,i.up)("Popup"),u=(0,i.up)("Pagination"),d=(0,i.up)("font-awesome-icon"),l=(0,i.Q2)("lazyload");return(0,i.wg)(),(0,i.iD)("div",ri,[(0,i.Wm)(n.uT,{name:"popup-backdrop"},{default:(0,i.w5)((function(){return[e.showPopup?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"popup-backdrop",onClick:t[0]||(t[0]=function(){return e.popupHide&&e.popupHide.apply(e,arguments)})},[(0,i.Wm)(n.uT,{appear:"",name:"popup"},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{media:e.popupMedia,onClose:e.popupHide},null,8,["media","onClose"])]})),_:1})])):(0,i.kq)("",!0)]})),_:1}),(0,i._)("div",oi,[(0,i._)("div",ci,[(0,i.wy)((0,i._)("input",{class:"controls-input",type:"text","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.query=t}),placeholder:"Search..."},null,512),[[n.nr,e.query]])]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.filteredFilters,(function(t,a){return(0,i.wg)(),(0,i.iD)("div",{class:"controls-filterGroup",key:a},[(0,i._)("span",ui,(0,E.zw)(t.name)+": ",1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.values,(function(n,s){return(0,i.wg)(),(0,i.iD)("button",{class:(0,E.C_)(["filter-button",{selected:t.checked.indexOf(n.key)>-1}]),title:"Click to toggle",key:s,onClick:function(t){return e.toggleFilter(a,n.key)}},(0,E.zw)("undefined"===typeof n.name?"AnimeList"==e.$route.name?n.animeName:n.mangaName:n.name),11,di)})),128))])})),128))]),e.listLength>1?((0,i.wg)(),(0,i.j4)(u,{key:0,onSet:e.navigate,max:e.listLength,current:e.currentPage},null,8,["onSet","max","current"])):(0,i.kq)("",!0),(0,i._)("table",li,[pi,e.loading?((0,i.wg)(),(0,i.iD)("div",hi,"Loading...")):((0,i.wg)(),(0,i.iD)("tbody",mi,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.paginatedList,(function(t){return(0,i.wg)(),(0,i.iD)("tr",{key:t.id,class:"tableRow",onClick:function(a){return e.popupShow(t)}},[(0,i._)("td",vi,[(0,i.wy)((0,i._)("img",{class:"tableData-image","data-src":t.cover,width:"24",height:"24",loading:"lazy"},null,8,fi),[[l]]),(0,i._)("span",null,(0,E.zw)(t.title),1)]),(0,i._)("td",yi,(0,E.zw)(e.prettyFormat(t.format)),1),(0,i._)("td",wi,(0,E.zw)(e.prettyDate(t.added)),1),(0,i._)("td",ki,(0,E.zw)(e.prettyDate(t.completed)),1),(0,i._)("td",_i,(0,E.zw)(e.prettyStatus(t.status)),1),(0,i._)("td",Di,[(0,i._)("div",{class:"tableData-iconWrapper",style:(0,E.j5)({color:e.resolveColor(t.status)})},[(0,i.Wm)(d,{icon:e.resolveIcon(t.status),"fixed-width":""},null,8,["icon"])],4)])],8,gi)})),128)),0==e.list.length?((0,i.wg)(),(0,i.iD)("div",bi," No results found. Maybe try changing the filters? ")):(0,i.kq)("",!0)]))]),e.listLength>1?((0,i.wg)(),(0,i.j4)(u,{key:1,onSet:e.navigate,max:e.listLength,current:e.currentPage},null,8,["onSet","max","current"])):(0,i.kq)("",!0)])}var Si=a(4648);a(4944),a(3792),a(2707);function Ii(e){return Li.apply(this,arguments)}function Li(){return Li=(0,o.Z)(regeneratorRuntime.mark((function e(t){var a,n,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k(T.state.userData.id,t);case 2:return a=e.sent,n=a.data.MediaListCollection.lists,i=n.filter((function(e){return!e.isCustomList})).map((function(e){return e.entries})).flat(1),s=i.map((function(e){return(0,Si.Z)((0,Si.Z)({},e.media),{},{title:e.media.title.romaji,type:e.media.type,status:e.status,cover:e.media.coverImage.medium,banner:e.media.bannerImage,progress:e.progress,started:Ti(e.startedAt),completed:Ti(e.completedAt),added:A(1e3*e.createdAt)})})).sort((function(e,t){return e.title.localeCompare(t.title)})),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)}))),Li.apply(this,arguments)}function Ti(e){if(null==e.day)return{d:0,m:0,y:0,time:0};var t=new Date(e.year,e.month,e.day);return{d:e.day,m:e.month,y:e.year,weekday:I[t.getDay()],time:t.getTime()}}var Ai=function(e){return(0,i.dD)("data-v-2c698b86"),e=e(),(0,i.Cn)(),e},Pi=["src"],Mi=["href"],Hi={class:"header-title"},$i=Ai((function(){return(0,i._)("span",{style:{flex:"1"}},null,-1)})),Wi={class:"content"};function Zi(e,t,a,n,s,r){var o=(0,i.up)("font-awesome-icon"),c=(0,i.up)("SeriesDetails");return(0,i.wg)(),(0,i.iD)("div",{class:"popup",onClick:t[1]||(t[1]=function(e){return e.stopPropagation()})},[(0,i._)("div",{class:"header",style:(0,E.j5)({backgroundImage:"url("+e.media.banner+")"})},[(0,i._)("img",{class:"header-image",src:e.media.cover},null,8,Pi),(0,i._)("a",{href:"https://anilist.co/"+e.media.type.toLowerCase()+"/"+e.media.id,target:"_blank",rel:"nofollow"},[(0,i._)("div",Hi,(0,E.zw)(e.media.title),1)],8,Mi),$i,(0,i._)("div",{class:"header-control",onClick:t[0]||(t[0]=function(){return e.close&&e.close.apply(e,arguments)})},[(0,i.Wm)(o,{icon:"times"})])],4),(0,i._)("div",Wi,[(0,i.Wm)(c,{media:e.media},null,8,["media"])])])}var zi=(0,i.aZ)({props:{media:{}},components:{SeriesDetails:Ka},data:function(){return{state:T.state}},methods:{close:function(){this.$emit("close")}}});const Ei=(0,$.Z)(zi,[["render",Zi],["__scopeId","data-v-2c698b86"]]);var xi=Ei,Yi={class:"pager"},Oi=["onClick"];function Ni(e,t,a,n,s,r){var o=(0,i.up)("font-awesome-icon");return(0,i.wg)(),(0,i.iD)("div",Yi,[(0,i._)("button",{class:"pager-button pager-arrow",onClick:t[0]||(t[0]=function(t){return e.$emit("set",e.current-1)})},[(0,i.Wm)(o,{icon:"chevron-left"})]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.max,(function(t){return(0,i.wg)(),(0,i.iD)("button",{class:(0,E.C_)(["pager-button",{selected:e.current==t-1}]),key:t,onClick:function(a){return e.$emit("set",t-1)}},(0,E.zw)(t),11,Oi)})),128)),(0,i._)("button",{class:"pager-button pager-arrow",onClick:t[1]||(t[1]=function(t){return e.$emit("set",e.current+1)})},[(0,i.Wm)(o,{icon:"chevron-right"})])])}var qi=(0,i.aZ)({props:{current:Number,max:Number}});const Ui=(0,$.Z)(qi,[["render",Ni],["__scopeId","data-v-00249264"]]);var Ri=Ui,ji=(0,i.aZ)({components:{Popup:xi,Pagination:Ri},data:function(){return{state:T.state,prettyDate:T.prettyDate,loading:!0,displayCover:-1,showPopup:!1,popupMedia:{},pageSize:100,currentPage:0,listLength:0,query:"",filters:[{name:"Status",key:"status",type:"both",values:[{animeName:"Watching",mangaName:"Reading",key:"CURRENT"},{animeName:"Rewatching",mangaName:"Rereading",key:"REPEATING"},{name:"Completed",key:"COMPLETED"},{name:"Planning",key:"PLANNING"},{name:"Dropped",key:"DROPPED"},{name:"Paused",key:"PAUSED"}],checked:["COMPLETED","CURRENT","REPEATING"]},{name:"Type",key:"format",type:"anime",values:[{name:"TV",key:"TV"},{name:"TV Short",key:"TV_SHORT"},{name:"Movie",key:"MOVIE"},{name:"Special",key:"SPECIAL"},{name:"OVA",key:"OVA"},{name:"ONA",key:"ONA"},{name:"Music",key:"MUSIC"}],checked:["TV","TV_SHORT","MOVIE","SPECIAL","OVA","ONA","MUSIC"]},{name:"Type",key:"format",type:"manga",values:[{name:"Manga",key:"MANGA"},{name:"Light novel",key:"NOVEL"},{name:"One shot",key:"ONE_SHOT"}],checked:["MANGA","NOVEL","ONE_SHOT"]}]}},created:function(){this.fetchData()},watch:{$route:"fetchData",query:function(){this.currentPage=0,this.listLength=Math.ceil(this.list.length/this.pageSize)}},computed:{list:function(){var e=this,t="AnimeList"==this.$route.name?this.state.animeList:this.state.mangaList,a=t.filter((function(t){return t.title.toLowerCase().indexOf(e.query.toLowerCase())>-1}));return this.filteredFilters.forEach((function(e){a=a.filter((function(t){return e.checked.indexOf(t[e.key])>-1}))})),a},paginatedList:function(){return this.list.slice(this.currentPage*this.pageSize,(this.currentPage+1)*this.pageSize)},filteredFilters:function(){var e=this;return this.filters.filter((function(t){return("AnimeList"!=e.$route.name||"manga"!=t.type)&&("MangaList"!=e.$route.name||"anime"!=t.type)}))}},directives:{lazyload:{mounted:function(e){e.src=e.dataset.src}}},methods:{fetchData:function(){var e=this;this.loading=!0,this.currentPage=0,this.listLength=0,setTimeout((function(){"AnimeList"==e.$route.name?0==e.state.animeList.length?Ii("ANIME").then((function(t){T.setAnimeList(t),e.listLength=Math.ceil(e.list.length/e.pageSize),e.loading=!1})):(e.listLength=Math.ceil(e.list.length/e.pageSize),e.loading=!1):"MangaList"==e.$route.name&&(0==e.state.mangaList.length?Ii("MANGA").then((function(t){T.setMangaList(t),e.listLength=Math.ceil(e.list.length/e.pageSize),e.loading=!1})):(e.listLength=Math.ceil(e.list.length/e.pageSize),e.loading=!1))}),100)},popupShow:function(e){this.showPopup=!0,this.popupMedia=e},popupHide:function(){this.showPopup=!1},toggleFilter:function(e,t){this.currentPage=0;var a=this.filteredFilters[e].checked.indexOf(t);a>-1?this.filteredFilters[e].checked.splice(a,1):this.filteredFilters[e].checked.push(t),this.listLength=Math.ceil(this.list.length/this.pageSize)},navigate:function(e){e<0||e>=this.listLength||(this.currentPage=e)},prettyFormat:function(e){return e?"TV_SHORT"==e?"TV Short":["TV","OVA","ONA"].indexOf(e)>-1?e:e[0]+e.slice(1).replace("_"," ").toLowerCase():""},prettyStatus:function(e){return e[0]+e.slice(1).toLowerCase()},resolveIcon:function(e){switch(e){case"CURRENT":case"REPEATING":return"play";case"DROPPED":return"stop";case"PAUSED":return"pause";case"COMPLETED":return"check";default:return"clock"}},resolveColor:function(e){switch(e){case"CURRENT":return"#2f754e";case"DROPPED":return"#a44646";case"PAUSED":return"#ad8015";case"COMPLETED":return"#14699b";default:return"#595f6e"}}}});const Fi=(0,$.Z)(ji,[["render",Ci],["__scopeId","data-v-1f7bcf57"]]);var Vi=Fi,Ki=function(e){return(0,i.dD)("data-v-ff172ec6"),e=e(),(0,i.Cn)(),e},Gi={class:"history"},Bi={key:0,class:"loading"},Ji={key:1},Xi=(0,i.uE)('<div class="header header-desktop" data-v-ff172ec6><div class="month" data-v-ff172ec6></div><div class="month" data-v-ff172ec6>Jan</div><div class="month" data-v-ff172ec6>Feb</div><div class="month" data-v-ff172ec6>Mar</div><div class="month" data-v-ff172ec6>Apr</div><div class="month" data-v-ff172ec6>May</div><div class="month" data-v-ff172ec6>Jun</div><div class="month" data-v-ff172ec6>Jul</div><div class="month" data-v-ff172ec6>Aug</div><div class="month" data-v-ff172ec6>Sep</div><div class="month" data-v-ff172ec6>Oct</div><div class="month" data-v-ff172ec6>Nov</div><div class="month" data-v-ff172ec6>Dec</div></div>',1),Qi={class:"header header-mobile"},es=Ki((function(){return(0,i._)("div",{class:"month"},null,-1)})),ts={class:"col-year"},as=["onClick"],ns={class:"col-label"},is={key:0,class:"missing"},ss={class:"details"},rs={key:0,class:"details-content"},os={class:"details-title"},cs={class:"details-list"},us=["onClick"],ds=["src"],ls={class:"entry-title"},ps={key:1};function hs(e,t,a,s,r,o){var c=(0,i.up)("Popup");return(0,i.wg)(),(0,i.iD)("div",Gi,[(0,i.Wm)(n.uT,{name:"popup-backdrop"},{default:(0,i.w5)((function(){return[e.showPopup?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"popup-backdrop",onClick:t[0]||(t[0]=function(){return e.popupHide&&e.popupHide.apply(e,arguments)})},[(0,i.Wm)(n.uT,{appear:"",name:"popup"},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{media:e.popupMedia,onClose:e.popupHide},null,8,["media","onClose"])]})),_:1})])):(0,i.kq)("",!0)]})),_:1}),e.loading?((0,i.wg)(),(0,i.iD)("div",Bi,"Loading...")):((0,i.wg)(),(0,i.iD)("div",Ji,[Xi,(0,i._)("div",Qi,[es,((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(12,(function(e){return(0,i._)("div",{class:"month",key:e},(0,E.zw)(e),1)})),64))]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.years,(function(t){return(0,i.wg)(),(0,i.iD)("div",{class:"row",key:t},[(0,i._)("div",ts,(0,E.zw)(t.year),1),((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(12,(function(a,n){return(0,i._)("div",{class:"col",key:n,onClick:function(n){return e.load(a,t.year)}},[(0,i._)("div",{class:"col-bg",style:(0,E.j5)({opacity:t.months[n]?e.getOpacity(t.months[n].count):0})},null,4),(0,i._)("div",ns,(0,E.zw)(t.months[n]?t.months[n].count:0),1)],8,as)})),64))])})),128)),e.unknownCount?((0,i.wg)(),(0,i.iD)("div",is," There are "+(0,E.zw)(e.unknownCount)+" titles with unknown completed date. ",1)):(0,i.kq)("",!0),(0,i._)("div",ss,[e.selectedMonth&&e.selectedYear?((0,i.wg)(),(0,i.iD)("div",rs,[(0,i._)("div",os,(0,E.zw)("AnimeHistory"==e.$route.name?"Anime":"Manga")+" completed in "+(0,E.zw)(e.monthNames[e.selectedMonth-1])+" of "+(0,E.zw)(e.selectedYear)+" ("+(0,E.zw)(e.selected.length)+") ",1),(0,i._)("div",cs,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.selected,(function(t){return(0,i.wg)(),(0,i.iD)("div",{class:"details-entry",key:t.id,onClick:function(a){return e.popupShow(t)}},[(0,i._)("img",{class:"entry-image",src:t.cover},null,8,ds),(0,i._)("div",ls,(0,E.zw)(t.title),1)],8,us)})),128))])])):((0,i.wg)(),(0,i.iD)("div",ps,"Choose a month above to see details on it."))])]))])}var ms=(0,i.aZ)({components:{Popup:xi},data:function(){return{state:T.state,loading:!1,monthNames:L,years:[],unknownCount:0,max:0,showPopup:!1,popupMedia:{},selected:[],selectedMonth:0,selectedYear:0}},created:function(){this.fetchData()},watch:{$route:"fetchData"},computed:{list:function(){var e="AnimeHistory"==this.$route.name?this.state.animeList:this.state.mangaList;return e}},methods:{fetchData:function(){var e=this;this.clear(),this.loading=!0,"AnimeHistory"==this.$route.name?0==this.state.animeList.length?Ii("ANIME").then((function(t){T.setAnimeList(t),e.parseData()})):this.parseData():"MangaHistory"==this.$route.name&&(0==this.state.mangaList.length?Ii("MANGA").then((function(t){T.setMangaList(t),e.parseData()})):this.parseData())},parseData:function(){var e=(new Date).getFullYear(),t=!0;while(t){var a=this.checkYear(e);if(a<12)e--;else{var n=this.list.filter((function(t){var a,n;return t.completed&&(null===(a=t.completed)||void 0===a?void 0:a.y)<e&&0!=(null===(n=t.completed)||void 0===n?void 0:n.y)}));0==n.length?(t=!1,this.years.pop()):e--}e<2e3&&(t=!1)}this.unknownCount=this.list.filter((function(e){var t;return"COMPLETED"==e.status&&0==(null===(t=e.completed)||void 0===t?void 0:t.y)})).length,this.loading=!1},checkYear:function(e){for(var t=this,a=0,n=function(n){var i=t.years.find((function(t){return t.year==e})),s=t.list.filter((function(t){var a,i;return(null===(a=t.completed)||void 0===a?void 0:a.m)==n&&(null===(i=t.completed)||void 0===i?void 0:i.y)==e}));if(0==s.length&&a++,s.length>t.max&&(t.max=s.length),i)i.months[n-1]={count:s.length};else{var r={year:e,months:[]};r.months[n-1]={count:s.length},t.years.push(r)}},i=1;i<13;i++)n(i);return a},popupShow:function(e){this.showPopup=!0,this.popupMedia=e},popupHide:function(){this.showPopup=!1},load:function(e,t){var a=this.list.filter((function(a){var n,i;return(null===(n=a.completed)||void 0===n?void 0:n.m)==e&&(null===(i=a.completed)||void 0===i?void 0:i.y)==t}));this.selectedMonth=e,this.selectedYear=t,this.selected=a},clear:function(){this.years=[],this.max=0,this.unknownCount=0,this.selected=[],this.selectedMonth=0,this.selectedYear=0},getOpacity:function(e){var t=e/this.max;return t}}});const gs=(0,$.Z)(ms,[["render",hs],["__scopeId","data-v-ff172ec6"]]);var vs=gs,fs=[{path:"/",name:"Home",component:lt},{path:"/:user",name:"User",component:Vt,children:[{path:"",component:ii},{path:"list/anime",component:Vi,name:"AnimeList",props:{type:"anime"}},{path:"list/manga",component:Vi,name:"MangaList",props:{type:"manga"}},{path:"history/anime",component:vs,name:"AnimeHistory"},{path:"history/manga",component:vs,name:"MangaHistory"}]}],ys=(0,z.p7)({history:(0,z.PO)("/anistats/"),routes:fs}),ws=ys,ks=a(8947),_s=a(1436),Ds=a(7810);ks.vI.add(_s.b7W,_s.A35,_s._tD,_s.sph,_s.DBF,_s.X8G,_s.YHc,_s.m08,_s.cnt,_s.Zrf,_s.V$d,_s.NBC,_s.qO$,_s.zc,_s.Bg$,_s.XQY,_s.LEp,_s.SZw,_s.xiG,_s.tmN),(0,n.ri)(Z).use(ws).component("font-awesome-icon",Ds.GN).mount("#app")},7765:function(e,t,a){e.exports=a.p+"img/merge.ad54911a.png"}},t={};function a(n){var i=t[n];if(void 0!==i)return i.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,n,i,s){if(!n){var r=1/0;for(d=0;d<e.length;d++){n=e[d][0],i=e[d][1],s=e[d][2];for(var o=!0,c=0;c<n.length;c++)(!1&s||r>=s)&&Object.keys(a.O).every((function(e){return a.O[e](n[c])}))?n.splice(c--,1):(o=!1,s<r&&(r=s));if(o){e.splice(d--,1);var u=i();void 0!==u&&(t=u)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[n,i,s]}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/anistats/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,s,r=n[0],o=n[1],c=n[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(i in o)a.o(o,i)&&(a.m[i]=o[i]);if(c)var d=c(a)}for(t&&t(n);u<r.length;u++)s=r[u],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(d)},n=self["webpackChunkanistats"]=self["webpackChunkanistats"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(7854)}));n=a.O(n)})();
//# sourceMappingURL=app-legacy.f7f84123.js.map